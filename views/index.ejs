<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Virtual Class Room</title>
  </head>
  <script>
    let comments = [];
    const host = "<%= host %>";
    const UIN = "<%= UIN %>";
    const ROOM_ID = "<%= roomId %>";
    comments = "<%= commentList %>";
    console.log("RoomId: ", ROOM_ID, " UIN: ", UIN, " comments: ", comments);
  </script>

  <script
    defer
    src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"
  ></script>

  <!-- <style src="/css/bootstrap.min.css"></style> -->
  <link rel="stylesheet" href="/css/bootstrap.min.css" />
  <style>
    ul {
      list-style-type: none;
    }
    #video-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, 150px);
      grid-auto-rows: 150px;
    } /*
    video { width: 950px; } */
    .teacher2 {
      display: grid;
      grid-template-columns: repeat(auto-fill, 1000px);
      grid-auto-rows: 600px;
    }
    #teacher {
      display: grid;
      width: 80%; /* max-width: 100%; */
      height: 500px; /* height: 70%; */
    }
    .video1 {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .video2 {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    body {
      /* background-color: #000;
    */
      width: 100vw;
    }
  </style>
  <body style="height: 95vh; width: 99vw">
    <div class="row m-2">
      <div class="col-md-9">
        <div class="row" style="">
          UIN: <%= UIN %> RoomId: <%= roomId %>
          <div id="video-grid"></div>
        </div>

        <div class="row">
          <h2 class="text-primary">The Teacher Video</h2>
          <div id="teacher" class="ml-4"></div>
        </div>
      </div>

      <div class="col-md-3">
        <h4 class="text-primary">Comments</h4>
        <div style="height: 80vh; overflow-y: scroll">
          <ul class="card">
            <% commentList?.forEach(function(com){ %>
            <li class="list-group m-2">
              <span style="margin-right;: 10px">
                <%= com.UIN %> &nbsp; <%=
                com.commentDate.toString().substring(0,7) %></span
              >

              <span><%= com.comment %></span>
            </li>
            <% }) %>
          </ul>
        </div>
        <div id="commentform" style="height: 10vh">
          <form class="form-field">
            <textarea
              class="form-control"
              #comment
              id="comment"
              cols="1"
            ></textarea>
          </form>
          <button
            onclick="submitComment({comment:comment.value, UIN, lectureId: ROOM_ID})"
            class="btn btn-primary"
            id="submitComment"
          >
            <i class="send"></i>Send
          </button>
        </div>
      </div>
    </div>
  </body>
</html>
<!-- <script
  src="https://code.jquery.com/jquery-3.1.1.js"
  integrity="sha256-16cdPddA6VdVInumRGo6IbivbERE8p7CQR3HzTBuELA="
  crossorigin="anonymous"
></script> -->

<script defer src="/socket.io/socket.io.js"></script>
<script defer src="/js/media.js"></script>
<script defer src="/js/script.js"></script>
